<link rel="import"
href="/static/bower_components/polymer/polymer.html">

<link rel="import"
href="/static/bower_components/iron-flex-layout/classes/iron-flex-layout.html">

<link rel="import"
href="/static/bower_components/iron-icon/iron-icon.html">

<link rel="import"
href="/static/bower_components/paper-menu-button/paper-menu-button.html">

<link rel="import"
href="/static/bower_components/paper-menu/paper-menu.html">

<link rel="import"
href="/static/bower_components/paper-item/paper-item.html">

<link rel="import"
href="/static/bower_components/paper-button/paper-button.html">

<dom-module id="share-button">
{% verbatim %}
    <template>

    <style is="custom-style">
        .shareicon {
            height: 24px;
            width: 24px;
            margin-right: 12px;
        }

    </style>

    <script>
        var url=window.location.href;
        var tweet="Check out this article: "+url+" #TechPills";
        var twlink="https://twitter.com/home?status="+tweet;
        var fblink="https://www.facebook.com/sharer/sharer.php?u="+url;
        var gpluslink="https://plus.google.com/share?url="+url;

        function openlink(social) {
            if (social=="twitter") {
                window.open(twlink, '_blank').focus();
            }
            else if (social=="facebook") {
                window.open(fblink, '_blank').focus();
            }
            else if (social=="googleplus") {
                window.open(gpluslink, '_blank').focus();
            }
            else {
                console.log("yo, something went wrong, check the openlink function arguments in onclick")
            }
        }

    </script>

    <paper-menu-button>
        <paper-button class="dropdown-trigger">Share</paper-button>
        <paper-menu class="dropdown-content ">
            <paper-item
            onclick="openlink('twitter')">
                    <img
                    class="shareicon"
                    src="/static/twitter.svg"></img>
                    <span>Twitter</span>
                </paper-item>
            <paper-item
            onclick="openlink('facebook')">
                    <img
                    class="shareicon"
                    src="/static/facebook.svg"></iron-icon>
                    <span>Facebook</span>
                </paper-item>
            <paper-item
            onclick="openlink('googleplus')">
                    <img
                    class="shareicon"
                    src="/static/googleplus.svg"></img>
                    <span>Google+</span>
                </paper-item>
        </paper-menu>
    </paper-menu-button>


</template>
{% endverbatim %}
<script>
Polymer({
    is: "share-button"
});
</script>

</dom-module>
